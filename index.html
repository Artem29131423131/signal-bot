<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mines Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #1a1a1a;
            font-family: Arial, sans-serif;
        }
        
        .game-container {
            width: 300px;
            height: 400px;
            background-color: #2a2a2a;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        }
        
        .traps-count {
            color: white;
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
        }
        
        .traps-label {
            color: #888;
            font-size: 14px;
            margin-top: 5px;
        }
        
        .play-button {
            width: 100%;
            height: 50px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-bottom: 20px;
        }
        
        .play-button:hover {
            background-color: #45a049;
        }
        
        .mines-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 40px;
        }
        
        .mine-icon {
            width: 24px;
            height: 24px;
            margin: 5px;
        }
        
        .board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .cell {
            width: 40px;
            height: 40px;
            background-color: #3a3a3a;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .cell:hover {
            background-color: #4a4a4a;
        }
        
        .cell.revealed {
            background-color: #2a4a2a;
        }
        
        .cell.mine {
            background-color: #4a2a2a;
        }
        
        .hidden {
            display: none;
        }
        
        .stars-icon {
            width: 16px;
            height: 16px;
        }
        
        .win-message {
            color: #4CAF50;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .lose-message {
            color: #f44336;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="mines-display">
            <div class="traps-count">3</div>
            <div class="traps-label">traps</div>
        </div>
        
        <div class="board hidden" id="game-board">
            <!-- Ячейки будут добавлены через JavaScript -->
        </div>
        
        <div class="game-message hidden" id="game-message"></div>
        
        <button class="play-button" id="play-button">Play</button>
    </div>

    <!-- SVG иконки -->
    <svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" style="position: absolute;">
        <!-- Иконка бомбы -->
        <symbol id="bomb-icon" viewBox="0 0 56 56">
            <defs>
                <radialGradient id="Gradient-2_c_2_r0" cx="0" cy="0" r="1" fx="0" fy="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(28.6228 -7.61449 6.96925 26.1973 5.358 50.625)">
                    <stop offset="0" stop-color="#1c2130"/>
                    <stop offset="1" stop-color="#1c2130" stop-opacity="0"/>
                </radialGradient>
                <radialGradient id="Gradient-3_c_2_r0" cx="0" cy="0" r="1" fx="0" fy="0" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-26.8297 -12.5463 11.4831 -24.5562 19.703 45.611)">
                    <stop offset="0" stop-color="#1c2130"/>
                    <stop offset="1" stop-color="#1c2130" stop-opacity="0"/>
                </radialGradient>
                <linearGradient id="Gradient-0_c_2_r0" x1="58.152" y1="24.257" x2="-3.614" y2="28.984" gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="#d8fffc" stop-opacity="0.63"/>
                    <stop offset="0.219" stop-color="#a0fff7" stop-opacity="0"/>
                    <stop offset="0.491" stop-color="#8dfff6" stop-opacity="0.56"/>
                    <stop offset="0.733" stop-color="#9af8f0"/>
                    <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                    <stop offset="1" stop-color="#bafff9" stop-opacity="0"/>
                </linearGradient>
                <linearGradient id="Gradient-1_c_2_r0" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
                    <stop offset="0" stop-color="#37b0ce"/>
                    <stop offset="1" stop-color="#01586b"/>
                </linearGradient>
                <clipPath id="clip0_366_7284_c_2_r">
                    <rect width="56" height="56" rx="7.593" fill="#fff"/>
                </clipPath>
            </defs>
            <g clip-path="url(#clip0_366_7284_c_2_r)" transform="matrix(0 0 0 0 28 28)">
                <rect opacity="0.7" width="56" height="56" rx="12" fill="#151C2E"/>
                <rect opacity="0.6" width="52" height="52" rx="10" fill="url(#Gradient-0_c_2_r0)" transform="translate(2 2)"/>
                <rect width="48" height="48" rx="8" fill="url(#Gradient-1_c_2_r0)" transform="translate(4 4)"></rect>
                <path opacity="0.1" fill-rule="evenodd" clip-rule="evenodd" d="M14.834 60.127c3.731 1.672 7.732.204 11.798-.231 4.245-.454 9.628 1.157 12.1-2.325 2.466-3.477-1.482-7.917-1.818-12.166-.375-4.74 2.845-10.093-.23-13.719-3.261-3.844-9.295-4.521-14.177-3.264-4.482 1.155-6.48 5.88-9.52 9.37-3.412 3.912-9.48 6.762-9.052 11.935.43 5.202 6.134 8.266 10.899 10.4Z" fill="url(#Gradient-2_c_2_r0)"/>
                <path opacity="0.1" fill-rule="evenodd" clip-rule="evenodd" d="M8.7 53.292c-3.968.987-7.647-1.164-11.573-2.31-4.098-1.196-9.681-.56-11.498-4.423-1.815-3.857 2.854-7.531 3.935-11.655 1.205-4.599-1.02-10.436 2.648-13.462 3.888-3.208 9.947-2.81 14.53-.711 4.208 1.928 5.34 6.931 7.718 10.902 2.667 4.453 8.137 8.33 6.803 13.346-1.342 5.045-7.497 7.053-12.563 8.313Z" fill="url(#Gradient-3_c_2_r0)"/>
                <rect opacity="0.6" width="56" height="56" rx="12" fill="#151C2E"/>
            </g>
        </symbol>
        
        <!-- Иконка звезды -->
        <symbol id="star-icon" viewBox="0 0 26 26">
            <path d="M12.2752 2.2285C12.6529 1.48818 13.7108 1.48818 14.0885 2.2285L16.735 7.41481C16.8829 7.70466 17.1604 7.90633 17.4818 7.95743L23.2321 8.87169C24.0529 9.0022 24.3798 10.0082 23.7924 10.5963L19.6778 14.7159C19.4478 14.9461 19.3418 15.2724 19.3925 15.5938L20.2999 21.3452C20.4294 22.1662 19.5736 22.7879 18.8329 22.4111L13.6434 19.7708C13.3534 19.6232 13.0103 19.6232 12.7203 19.7708L7.53081 22.4111C6.79004 22.7879 5.93424 22.1662 6.06377 21.3452L6.97119 15.5938C7.0219 15.2724 6.91588 14.9461 6.68592 14.7159L2.57124 10.5963C1.98389 10.0082 2.31077 9.0022 3.1316 8.87169L8.88187 7.95743C9.20324 7.90633 9.48081 7.70466 9.62872 7.41481L12.2752 2.2285Z" fill="#C22A20"></path>
            <path d="M12.2752 2.2285C12.6529 1.48818 13.7108 1.48818 14.0885 2.2285L16.735 7.41481C16.8829 7.70466 17.1604 7.90633 17.4818 7.95743L23.2321 8.87169C24.0529 9.0022 24.3798 10.0082 23.7924 10.5963L19.6778 14.7159C19.4478 14.9461 19.3418 15.2724 19.3925 15.5938L20.2999 21.3452C20.4294 22.1662 19.5736 22.7879 18.8329 22.4111L13.6434 19.7708C13.3534 19.6232 13.0103 19.6232 12.7203 19.7708L7.53081 22.4111C6.79004 22.7879 5.93424 22.1662 6.06377 21.3452L6.97119 15.5938C7.0219 15.2724 6.91588 14.9461 6.68592 14.7159L2.57124 10.5963C1.98389 10.0082 2.31077 9.0022 3.1316 8.87169L8.88187 7.95743C9.20324 7.90633 9.48081 7.70466 9.62872 7.41481L12.2752 2.2285Z" fill="url(#paint0_linear_448_8887status)"></path>
            <path d="M12.2754 2.22809C12.6531 1.48777 13.711 1.48777 14.0887 2.22809L16.7352 7.4144C16.8831 7.70426 17.1607 7.90592 17.482 7.95702L23.2323 8.87128C24.0531 9.00179 24.38 10.0078 23.7927 10.5959L19.678 14.7155C19.448 14.9457 19.342 15.272 19.3927 15.5934L20.3001 21.3448C20.4297 22.1658 19.5739 22.7875 18.8331 22.4107L13.6436 19.7704C13.3536 19.6228 13.0105 19.6228 12.7205 19.7704L7.53102 22.4107C6.79025 22.7875 5.93445 22.1658 6.06398 21.3448L6.9714 15.5934C7.02211 15.272 6.91609 14.9457 6.68613 14.7155L2.57145 10.5959C1.9841 10.0078 2.31098 9.00179 3.13181 8.87128L8.88208 7.95702C9.20345 7.90592 9.48102 7.70426 9.62893 7.4144L12.2754 2.22809Z" fill="url(#paint1_linear_448_8887status)"></path>
            <path d="M12.2754 2.22809C12.6531 1.48777 13.711 1.48777 14.0887 2.22809L16.7352 7.4144C16.8831 7.70426 17.1607 7.90592 17.482 7.95702L23.2323 8.87128C24.0531 9.00179 24.38 10.0078 23.7927 10.5959L19.678 14.7155C19.448 14.9457 19.342 15.272 19.3927 15.5934L20.3001 21.3448C20.4297 22.1658 19.5739 22.7875 18.8331 22.4107L13.6436 19.7704C13.3536 19.6228 13.0105 19.6228 12.7205 19.7704L7.53102 22.4107C6.79025 22.7875 5.93445 22.1658 6.06398 21.3448L6.9714 15.5934C7.02211 15.272 6.91609 14.9457 6.68613 14.7155L2.57145 10.5959C1.9841 10.0078 2.31098 9.00179 3.13181 8.87128L8.88208 7.95702C9.20345 7.90592 9.48102 7.70426 9.62893 7.4144L12.2754 2.22809Z" fill="url(#paint2_radial_448_8887status)"></path>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12.486 3.38311C12.6114 3.44656 12.6616 3.59966 12.5981 3.72506L11.8786 5.14712C11.8152 5.27252 11.6621 5.32275 11.5367 5.2593C11.4113 5.19585 11.3611 5.04275 11.4245 4.91735L12.144 3.49529C12.2075 3.36989 12.3606 3.31966 12.486 3.38311Z" fill="#F9BE76"></path>
            <circle cx="3.68131" cy="9.52742" r="0.254474" fill="#F9BE76"></circle>
            <circle cx="11.3155" cy="5.62557" r="0.254474" fill="#F9BE76"></circle>
            <defs>
                <linearGradient id="paint0_linear_448_8887status" x1="13.1818" y1="0.45166" x2="18.8651" y2="22.4213" gradientUnits="userSpaceOnUse"><stop stop-color="#FBA416" stop-opacity="0"></stop><stop offset="1" stop-color="#FDBB4E" stop-opacity="0.63"></stop></linearGradient>
                <linearGradient id="paint1_linear_448_8887status" x1="13.182" y1="0.451259" x2="18.8653" y2="22.4209" gradientUnits="userSpaceOnUse"><stop stop-color="#FDBB4E" stop-opacity="0"></stop><stop offset="1" stop-color="#FDBB4E" stop-opacity="0.63"></stop></linearGradient>
                <radialGradient id="paint2_radial_448_8887status" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(10.2132 9.86681) rotate(52.6712) scale(14.8278)"><stop offset="0.738765" stop-color="#9CB6DD" stop-opacity="0"></stop><stop offset="0.89825" stop-color="#C6F1FF" stop-opacity="0.37"></stop><stop offset="1" stop-color="#EFFBFF" stop-opacity="0.7"></stop></radialGradient>
            </defs>
        </symbol>
    </svg>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const playButton = document.getElementById('play-button');
            const gameBoard = document.getElementById('game-board');
            const gameMessage = document.getElementById('game-message');
            
            let minesCount = 3;
            let boardSize = 25; // 5x5 grid
            let revealedCells = 0;
            let gameActive = false;
            let minesPositions = [];
            
            // Initialize the game board
            function initializeBoard() {
                gameBoard.innerHTML = '';
                revealedCells = 0;
                minesPositions = [];
                gameBoard.classList.remove('hidden');
                
                // Create cells
                for (let i = 0; i < boardSize; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.index = i;
                    cell.addEventListener('click', () => revealCell(i));
                    gameBoard.appendChild(cell);
                }
            }
            
            // Place mines randomly
            function placeMines() {
                minesPositions = [];
                let minesPlaced = 0;
                
                while (minesPlaced < minesCount) {
                    const randomPos = Math.floor(Math.random() * boardSize);
                    
                    if (!minesPositions.includes(randomPos)) {
                        minesPositions.push(randomPos);
                        minesPlaced++;
                    }
                }
            }
            
            // Reveal a cell
            function revealCell(index) {
                if (!gameActive) return;
                
                const cell = gameBoard.children[index];
                if (cell.classList.contains('revealed')) return;
                
                cell.classList.add('revealed');
                revealedCells++;
                
                if (minesPositions.includes(index)) {
                    // Mine hit
                    cell.innerHTML = '<svg class="mine-icon"><use xlink:href="#bomb-icon"></use></svg>';
                    cell.classList.add('mine');
                    endGame(false);
                } else {
                    // Safe cell
                    cell.innerHTML = '<svg class="stars-icon"><use xlink:href="#star-icon"></use></svg>';
                    
                    // Check for win
                    if (revealedCells === boardSize - minesCount) {
                        endGame(true);
                    }
                }
            }
            
            // Start the game
            function startGame() {
                initializeBoard();
                placeMines();
                gameActive = true;
                playButton.textContent = 'Playing...';
                playButton.disabled = true;
                gameMessage.classList.add('hidden');
                
                // Auto-reveal some cells (signal feature)
                setTimeout(() => {
                    if (!gameActive) return;
                    
                    // Reveal 3-5 random safe cells
                    const safeCells = [];
                    for (let i = 0; i < boardSize; i++) {
                        if (!minesPositions.includes(i)) {
                            safeCells.push(i);
                        }
                    }
                    
                    const cellsToReveal = Math.min(3 + Math.floor(Math.random() * 3), safeCells.length);
                    for (let i = 0; i < cellsToReveal; i++) {
                        const randomIndex = Math.floor(Math.random() * safeCells.length);
                        revealCell(safeCells[randomIndex]);
                        safeCells.splice(randomIndex, 1);
                    }
                }, 500);
            }
            
            // End the game
            function endGame(isWin) {
                gameActive = false;
                gameMessage.classList.remove('hidden');
                
                if (isWin) {
                    gameMessage.textContent = 'You Win!';
                    gameMessage.className = 'game-message win-message';
                } else {
                    gameMessage.textContent = 'Game Over!';
                    gameMessage.className = 'game-message lose-message';
                    
                    // Show all mines
                    minesPositions.forEach(pos => {
                        const cell = gameBoard.children[pos];
                        cell.innerHTML = '<svg class="mine-icon"><use xlink:href="#bomb-icon"></use></svg>';
                        cell.classList.add('mine');
                    });
                }
                
                playButton.textContent = 'Play Again';
                playButton.disabled = false;
            }
            
            // Event listeners
            playButton.addEventListener('click', startGame);
        });
    </script>
</body>
</html>
